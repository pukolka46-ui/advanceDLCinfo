document.addEventListener("DOMContentLoaded", () => {

  // scroll buttons
  document.querySelectorAll("[data-scroll]").forEach(btn => {
    btn.addEventListener("click", () => {
      const id = btn.dataset.scroll;
      document.getElementById(id)?.scrollIntoView({ behavior: "smooth" });
    });
  });

  // support
  document.getElementById("supportBtn")?.addEventListener("click", () => {
    alert("Поддержка скоро будет доступна");
  });

  // theme switch (wave <-> dark)
  let wave = true;
  document.getElementById("themeBtn")?.addEventListener("click", () => {
    document.body.style.animation = wave ? "none" : "waveBg 15s ease infinite";
    document.body.style.background = wave
      ? "#020014"
      : "";
    wave = !wave;
  });

  // select plan
  document.querySelectorAll(".select").forEach(btn => {
    btn.addEventListener("click", () => {
      alert("Покупка временно недоступна");
    });
  });

  // scroll reveal
  const reveal = () => {
    document.querySelectorAll(".reveal").forEach(el => {
      if (el.getBoundingClientRect().top < window.innerHeight - 100) {
        el.classList.add("active");
      }
    });
  };
  window.addEventListener("scroll", reveal);
  reveal();
});
